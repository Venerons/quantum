// Quantum 1.0.0 | copyright (c) 2017 Daniele Veneroni | MIT License (X11 License) | https://github.com/Venerons/quantum
!function(){"use strict";var e=Object.create(null);e.version="1.0.0",e.exists=function(e){try{return null!==e&&"null"!==e&&void 0!==e&&"undefined"!==e&&void 0!==e}catch(e){return!1}},e.log=function(){try{var e=Array.prototype.slice.call(arguments),t=e.shift();"debug"===t?(e.unshift("color: lightgreen"),e.unshift("ðŸ”§ %c[Debug]"),console.log.apply(console,e)):"info"===t?(e.unshift("color: dodgerblue"),e.unshift("ðŸ”§ %c[Info]"),console.info.apply(console,e)):"warn"===t?(e.unshift("color: orange"),e.unshift("ðŸ”§ %c[Warning]"),console.warn.apply(console,e)):"error"===t?(e.unshift("color: crimson"),e.unshift("ðŸ”§ %c[Error]"),console.error.apply(console,e)):(e.unshift(t),console.log.apply(console,e))}catch(e){console.log(Array.prototype.slice.call(arguments))}},e.error=function(t,r){e.log("error",(r||"")+"\n\n"+(t.toString()?"Error:\t\t"+t.toString():"")+(t.name?"\nName:\t\t"+t.name:"")+(t.message?"\nMessage:\t"+t.message:"")+(t.fileName?"\nFile:\t\t"+t.fileName:"")+(t.toSource?"\nSource:\t\t"+t.toSource():"")+(t.lineNumber?"\nLine #:\t\t"+t.lineNumber:"")+(t.columnNumber?"\nColumn #:\t"+t.columnNumber:"")+(t.stack?"\n\nStack:\n\n"+t.stack:""))},e.query=function(e){return document.querySelectorAll(e)},e.type=function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1")},e.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},e.require=function(e){var t=e.scripts.length;e.scripts.length;e.scripts.forEach(function(r){var n,o,s=function(){t--,r.onload&&r.onload.call(),0===t&&e.onload&&e.onload.call()};"js"===r.type?((n=document.createElement("script")).type="application/javascript",n.async=!!r.async,n.defer=!!r.defer,n.onload=s,n.src=r.path,o=document.body||document.head):"css"===r.type&&((n=document.createElement("link")).rel="stylesheet",n.type="text/css",n.onload=s,n.href=r.path,o=document.head||document.body),n&&o&&o.appendChild(n)})},e.ajax=function(e){if(!e.url)return!1;e.type=e.type.toUpperCase()||"GET",e.async=void 0===e.async||e.async,e.contentType=e.contentType||"application/x-www-form-urlencoded",e.responseType=e.responseType||"text",e.uploadProgress=e.uploadProgress||function(e){console.log("XMLHttpRequest Upload "+e+"%")},e.progress=e.progress||function(e){console.log("XMLHttpRequest Response "+e+"%")},e.success=e.success||function(e){console.log(e)},e.error=e.error||function(e){console.error(e)};try{var t=new XMLHttpRequest;if(t.upload.addEventListener("progress",function(t){t.lengthComputable?e.uploadProgress(Math.round(100*t.loaded/t.total)):console.log("upload progress - not computable")},!1),t.upload.addEventListener("error",function(t){e.error(new Error("XMLHttpRequest Upload Error"))},!1),t.upload.addEventListener("abort",function(t){e.error(new Error("XMLHttpRequest Upload Aborted"))},!1),t.upload.addEventListener("load",function(t){e.uploadProgress(100),console.log("xhr upload load - xhr upload completed")},!1),t.addEventListener("progress",function(t){t.lengthComputable?e.progress(Math.round(100*t.loaded/t.total)):console.log("xhr progress - not computable")},!1),t.addEventListener("error",function(t){e.error(new Error("XMLHttpRequest Error - Connection error of some sort"))},!1),t.addEventListener("abort",function(t){e.error(new Error("XMLHttpRequest Abort"))},!1),t.addEventListener("load",function(r){if(t.status>=200&&t.status<400||0===t.status){var n;n="xml"===e.responseType.toLowerCase()?t.responseXML:"arraybuffer"===e.responseType.toLowerCase()?t.response:t.responseText,"json"===e.responseType.toLowerCase()&&(n=JSON.parse(n)),e.success(n)}else e.error(new Error("XMLHttpRequest Error - Server reached, but it returned an error"))},!1),"GET"===e.type)e.data&&(e.url+="?"+e.data),t.open(e.type,e.url,e.async),t.responseType=e.responseType,t.send(null);else if("POST"===e.type){t.open(e.type,e.url,e.async),t.responseType=e.responseType,t.setRequestHeader("Content-Type",e.contentType);var r=null;if(e.data)if("application/x-www-form-urlencoded"===e.contentType)r=e.data;else if("text/plain"===e.contentType)r=e.data;else if("multipart/form-data"===e.contentType)if("[object HTMLFormElement]"===e.data.toString())r=new FormData(e.data);else if(r=new FormData,"string"==typeof e.data);else for(var n in e.data)e.data.hasOwnProperty(n)&&r.append(n.toString(),e.data[n]);t.send(r)}}catch(t){e.error(t)}},e.isInteger=function(t){return!isNaN(t)&&e.isInteger.regex.test(t)},e.isInteger.regex=/^[-+]?[0-9]+$/,e.isFloat=function(t){return!isNaN(t)&&e.isFloat.regex.test(t)},e.isFloat.regex=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/,e.isHex=function(t){return e.isHex.regex.test(t)},e.isHex.regex=/^((0x|0X)?|#?)[a-fA-F0-9]+$/,e.isEmail=function(t){return e.isEmail.regex.test(t)},e.isEmail.regex=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,e.isIPv4=function(t){return e.isIPv4.regex.test(t)},e.isIPv4.regex=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,e.isIPv6=function(t){return e.isIPv6.regex.test(t)},e.isIPv6.regex=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$|^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\-]*[a-zA-Z0-9])\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\-]*[A-Za-z0-9])$|^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,window.Quantum=e}(),function(){"use strict";function e(t,r){var n=this;return this instanceof e?("string"==typeof t?n.selector=t:n.element=t,n.settings=r,n._render(),n):new e(t,r)}e.prototype._render=function(){var e,t,r,n,o,s=this;s.settings.caption&&((e=document.createElement("caption")).textContent=s.settings.caption);var a;s.settings.columns.forEach(function(e){if(e.caption||e.hidden){var t=document.createElement("th");e.caption&&(t.textContent=e.caption),e.size&&(t.style.width="number"==typeof e.size?e.size+"px":e.size),e.hidden&&(t.hidden=!0),a||(a=document.createElement("tr")),a.appendChild(t)}}),a&&(r=document.createElement("thead")).appendChild(a),n=document.createElement("tbody");var i={};if(s.settings.group?s.settings.records.forEach(function(e){var t=e[s.settings.group.field];null!==t&&void 0!==t||(t="undefined"),i[t]||(i[t]=[]),i[t].push(e)}):i.undefined=s.settings.records,s.settings.sort){var d=function(e,t,r){var n=s.settings.sort[e];if(!n)return 0;if("asc"===n.direction)return t[n.field]<r[n.field]?-1:t[n.field]>r[n.field]?1:d(e+1,t,r);if("desc"===n.direction)return t[n.field]>r[n.field]?-1:t[n.field]<r[n.field]?1:d(e+1,t,r);return 0===n.direction(t,r)?d(e+1,t,r):void 0};Object.keys(i).forEach(function(e){i[e].sort(function(e,t){return d(0,e,t)})})}(s.settings.group&&s.settings.group.sort?"asc"===s.settings.group.sort?Object.keys(i).sort(function(e,t){return e<t?-1:1}):"desc"===s.settings.group.sort?Object.keys(i).sort(function(e,t){return e>t?-1:1}):Object.keys(i).sort(s.settings.group.sort):Object.keys(i)).forEach(function(e){var t=i[e];if(s.settings.group){var r=document.createElement("tr"),o=document.createElement("td");o.setAttribute("colspan",s.settings.columns.length);try{o.dataset.quantumGroup="string"==typeof e?e:JSON.stringify(e)}catch(e){}s.settings.group.render?o.innerHTML=s.settings.group.render.call(s,e,o):o.textContent=e,r.appendChild(o),n.appendChild(r)}t.forEach(function(e){var t=document.createElement("tr");s.settings.columns.forEach(function(r){var n=document.createElement("td");r.style&&n.setAttribute("style",r.style),r.hidden&&(n.hidden=!0);var o=e[r.field];try{n.dataset.quantumField=r.field,n.dataset.quantumValue="string"==typeof o?o:JSON.stringify(o)}catch(e){}r.render?n.innerHTML=r.render.call(s,o,e,n):null!==o&&void 0!==o&&(n.textContent=o.toString()),t.appendChild(n)}),s.settings.onRowClick&&t.addEventListener("click",function(){s.settings.onRowClick.call(s,e,t)},!1),n.appendChild(t)})});var u=s.element||document.querySelector(s.selector);return u&&(s.destroy(),s.settings.width&&(u.style.width="number"==typeof s.settings.width?s.settings.width+"px":s.settings.width),s.settings.height&&(u.style.height="number"==typeof s.settings.height?s.settings.height+"px":s.settings.height),e&&u.appendChild(e),t&&u.appendChild(t),r&&u.appendChild(r),n&&u.appendChild(n),o&&u.appendChild(o)),s.settings.onRenderCompleted&&s.settings.onRenderCompleted.call(s),s},e.prototype.update=function(e){var t=this;return e&&(Object.keys(e).forEach(function(r){t.settings[r]=e[r]}),t._render()),t},e.prototype.destroy=function(){var e=this,t=e.element||document.querySelector(e.selector);if(t)try{for(;t.firstChild;)t.firstChild.remove()}catch(e){t.innerHTML=""}return e},window.Quantum||(window.Quantum=Object.create(null)),window.Quantum.table=e}(),function(){"use strict";var e=Object.create(null);e.ALPHA_LOWER="abcdefghijklmnopqrstuvwxyz",e.ALPHA_UPPER="ABCDEFGHIJKLMNOPQRSTUVWXYZ",e.NUMBERS="0123456789",e.SPACE=" ",e.SYMBOLS="-_!\"#$%&'()*+,./:;<=>?@[\\]^{|}~",e.DEFAULTCHARSET=null,e.DEFAULTCHARSET=e.ALPHA_LOWER.concat(e.ALPHA_UPPER).concat(e.NUMBERS).concat(e.SYMBOLS),e.randomBuffer=function(e){return crypto.getRandomValues(new Uint8Array(e||512))},e.bufferToString="TextDecoder"in window?function(e,t){var r;if(e instanceof ArrayBuffer)r=new DataView(e);else{if(!(e.buffer instanceof ArrayBuffer))throw new Error("Invalid bufferToString buffer");r=e}return new TextDecoder(t||"utf-8").decode(r)}:String.fromCodePoint?function(e){if(!(e instanceof Uint16Array))if(e instanceof ArrayBuffer)e=new Uint16Array(e);else{if(!(e.buffer instanceof ArrayBuffer))throw new Error("Invalid bufferToBitString buffer");e=new Uint16Array(e.buffer)}return String.fromCodePoint.apply(null,e)}:function(e){if(!(e instanceof Uint16Array))if(e instanceof ArrayBuffer)e=new Uint16Array(e);else{if(!(e.buffer instanceof ArrayBuffer))throw new Error("Invalid bufferToBitString buffer");e=new Uint16Array(e.buffer)}return String.fromCharCode.apply(null,e)},e.stringToBuffer="TextEncoder"in window?function(e,t){if("string"!=typeof e)throw new Error("Invalid stringToBuffer string");return new TextEncoder(t||"utf-8").encode(e)}:String.fromCodePoint?function(e){if("string"!=typeof e)throw new Error("Invalid stringToBuffer string");for(var t=new ArrayBuffer(2*e.length),r=new Uint16Array(t),n=0;n<e.length;++n)r[n]=e.codePointAt(n);return new Uint8Array(t)}:function(e){if("string"!=typeof e)throw new Error("Invalid stringToBuffer string");for(var t=new ArrayBuffer(2*e.length),r=new Uint16Array(t),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return new Uint8Array(t)},e.bufferToBase64=function(t){return btoa(e.bufferToString(t))},e.base64ToBuffer=function(t){if("string"!=typeof t)throw new Error("Invalid base64ToBuffer string");return e.stringToBuffer(atob(t))},e.bufferToHex=function(e){if(!(e instanceof ArrayBuffer)){if(!(e.buffer instanceof ArrayBuffer))throw new Error("Invalid bufferToHex buffer");e=e.buffer}var t=new DataView(e),r=[];if(t.byteLength%4==0)for(n=0;n<t.byteLength;n+=4)r.push(("00000000"+t.getUint32(n).toString(16)).slice(-8));else for(var n=0;n<t.byteLength;++n)r.push(("00"+t.getUint8(n).toString(16)).slice(-2));return r.join("")},e.hexToBuffer=function(e){if("string"!=typeof e)throw new Error("Invalid hexToBuffer string");for(var t=new Uint8Array(e.length/2),r=0;r<t.byteLength;++r)t[r]=parseInt(e.substring(2*r,2*r+2),16);return t},e.bufferToURIEncoding=function(e){if(!(e instanceof Uint8Array))if(e instanceof ArrayBuffer)e=new Uint8Array(e);else{if(!(e.buffer instanceof ArrayBuffer))throw new Error("Invalid bufferToURIEncoding buffer");e=new Uint8Array(e.buffer)}for(var t="",r=0;r<e.byteLength;++r){var n=e[r].toString(16);t+="%"+"00".substring(0,2-n.length)+n}return t},e.URIEncodingToBuffer=function(e){if("string"!=typeof e)throw new Error("Invalid URIEncodingToBuffer string");var t=e.split("%");t.shift();for(var r=new Uint8Array(t.length),n=0;n<r.byteLength;++n)r[n]=parseInt(t[n],16);return r},e.bufferToBitString=function(e){if(!(e instanceof Uint8Array))if(e instanceof ArrayBuffer)e=new Uint8Array(e);else{if(!(e.buffer instanceof ArrayBuffer))throw new Error("Invalid bufferToBitString buffer");e=new Uint8Array(e.buffer)}for(var t="",r=0;r<e.byteLength;++r){var n=e[r].toString(2);t+="00000000".substring(0,8-n.length)+n}return t},e.bitStringToBuffer=function(e){if("string"!=typeof e)throw new Error("Invalid bitStringToBuffer string");for(var t=new Uint8Array(e.length/8),r=0;r<t.byteLength;++r)t[r]=parseInt(e.substring(8*r,8*r+8),2);return t},e.randomPassword=function(t,r){t=t||16,r=r||e.DEFAULTCHARSET;for(var n=e.randomBuffer(t),o="",s=0;s<n.length;++s)o+=r.charAt(n[s]%r.length);return o},e.hash=function(e,t){return(crypto||webkitCrypto||msCrypto).subtle.digest(e,t)},e.vaultPassword=function(t,r,n,o){return n=n||16,o=o||e.DEFAULTCHARSET,Promise.all([e.hash("SHA-512",e.stringToBuffer(t)),e.hash("SHA-512",e.stringToBuffer(r))]).then(function(t){var r=new Uint8Array(t[0]),s=new Uint8Array(t[1]),a=new Uint8Array(r.length+s.length);return a.set(r),a.set(s,r.length),e.hash("SHA-512",a).then(function(e){e=new Uint8Array(e);for(var t="",r=0;r<n;++r)t+=o.charAt(e[r%e.length]%o.length);return t})})},e.xorcipher=function(e,t){if(!(e instanceof Uint8Array))if(e instanceof ArrayBuffer)e=new Uint8Array(e);else{if(!(e.buffer instanceof ArrayBuffer))throw new Error("Invalid xorcipher input");e=new Uint8Array(e.buffer)}if(!(t instanceof Uint8Array))if(t instanceof ArrayBuffer)t=new Uint8Array(t);else{if(!(t.buffer instanceof ArrayBuffer))throw new Error("Invalid xorcipher key");t=new Uint8Array(t.buffer)}for(var r=new Uint8Array(e.byteLength),n=0;n<e.byteLength;++n)r[n]=e[n]^t[n%t.byteLength];return r},window.Quantum||(window.Quantum=Object.create(null)),window.Quantum.crypto=e}();
